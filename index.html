<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>AngularJS Plunker</title>

		<script charset="utf-8" src="bower_components/d3/d3.min.js"></script>

		<link rel="stylesheet" type="text/css" href="bower_components/c3/c3.css" />
		<script charset="utf-8" src="bower_components/c3/c3.js"></script>

		<script src="bower_components/jquery/dist/jquery.min.js"></script>
		<script src="bower_components/angular/angular.min.js"></script>
		<script src="bower_components/angular-animate/angular-animate.min.js"></script>
		<script src="bower_components/angular-route/angular-route.min.js"></script>

		<link rel="stylesheet" type="text/css" href="bower_components/font-awesome/css/font-awesome.min.css" />
		<link rel="stylesheet" type="text/css" href="styles.css" />
		
		<script>
			$.fn.isOrChildOf = function(arg) {
				var $arg = $(arg);

				return this.is($arg) || $.contains($arg[0], this[0]);
			};

			var app = angular.module('app', ['ngAnimate', 'ngRoute']);

            app.config(function($routeProvider) {
				$routeProvider.when('/', {
				    templateUrl: 'views/account-view/account-view.html',
				    controller: 'AccountController',
				    controllerAs: 'accountCtrl',
				    reloadOnSearch: false
                });
				$routeProvider.otherwise({ redirectTo: '/' });
			});

			app.run(['$document', '$rootScope', function($document, $rootScope) {
				console.log('run');
				
				$document.on('click', function(event) {
					$rootScope.$broadcast('document-click', event);
				});
			}]);

			app.constant('UUID', function() {
				var block = function() {
					return Math.floor((1 + Math.random()) * 0x10000)
						.toString(16)
						.substring(1);
				};

				return block() + block() + '-' + block() + '-' + block() + '-' + block() + '-' + block() + block() + block();
			});

			app.controller('TmpController', function() {
				var ctrl = this;

				ctrl.buttons = [
					{
						isPrimary: true,
						text: 'Save',
						action: function() {
							console.log('save');
						}
					}, {
						text: 'Cancel',
						action: function() {
							console.log('cancel');
						}
					}
				];
			});

			$(document).ready(function() {
                angular.bootstrap(document, ['app']);

                $('.modal-backdrop').on('click', function() {
                	$(this).addClass('enter');
                });
			});
		</script>
		
		<script src="services/account/AccountService.js"></script>
		<script src="services/data/DataService.js"></script>

		<script src="filters/date-filter.js"></script>
		<script src="filters/number-filter.js"></script>
		<script src="filters/padding-filter.js"></script>

        <script src="views/account-view/AccountController.js"></script>

		<script src="components/on-long-click/on-long-click.js"></script>
		<script src="components/on-swipe/on-swipe.js"></script>
        <script src="components/expense-item/expense-item.js"></script>
		<script src="components/add-expense-button/add-expense-button.js"></script>
		<script src="components/account-header/account-header.js"></script>
		<script src="components/app-sidebar/app-sidebar.js"></script>
        <script src="components/expense-filter/category-filter/category-filter.js"></script>
		<script src="components/ng-animation/ng-animation-foldout.js"></script>
        <script src="components/expense-filter/account-dropdown/account-dropdown.js"></script>
		<script src="components/balance-block/balance-block.js"></script>
		<script src="components/expense-progress-chart/expense-progress-chart.js"></script>
		<script src="components/fullscreen-modal/fullscreen-modal.js"></script>
		<script src="components/expense-filter/add-category-button/add-category-button.js"></script>
		<script src="components/date-picker/date-picker.js"></script>
		<script src="components/bind-value/bind-value.js"></script>
		<script src="components/date-picker/date-picker-table/date-picker-table.js"></script>
	</head>

	<body>
        <div class="main">
            <div class="view" ng-view></div>
        </div>
	</body>
</html>